

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>API Reference &mdash; pymer4 0.3.2 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="pymer4 0.3.2 documentation" href="index.html"/>
        <link rel="prev" title="Lme4 Random Effects Cheat Sheet" href="rfx_cheatsheet.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> pymer4
          

          
          </a>

          
            
            
              <div class="version">
                0.3.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="usage.html">Basic Usage Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="categorical.html">Categorical Predictors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="simulate.html">Simulating Data</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="rfx_cheatsheet.html">Lme4 Random Effects Cheat Sheet</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="#pymer4-models-model-classes"><code class="docutils literal"><span class="pre">pymer4.models</span></code>: Model Classes</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-pymer4.simulate"><code class="docutils literal"><span class="pre">pymer4.simulate</span></code>: Simulation</a></li>
<li class="toctree-l1"><a class="reference internal" href="#module-pymer4.utils"><code class="docutils literal"><span class="pre">pymer4.utils</span></code>: Utilities</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">pymer4</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>API Reference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/api.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="api-reference">
<h1>API Reference<a class="headerlink" href="#api-reference" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="pymer4-models-model-classes">
<h1><code class="xref py py-mod docutils literal"><span class="pre">pymer4.models</span></code>: Model Classes<a class="headerlink" href="#pymer4-models-model-classes" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="pymer4.models.Lmer">
<em class="property">class </em><code class="descclassname">pymer4.models.</code><code class="descname">Lmer</code><span class="sig-paren">(</span><em>formula</em>, <em>data</em>, <em>family='gaussian'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lmer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lmer" title="Permalink to this definition">¶</a></dt>
<dd><p>Model class to hold data outputted from fitting lmer in R and converting to Python object. This class stores as much information as it can about a merMod object computed using lmer and lmerTest in R. Most attributes will not be computed until the fit method is called.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>formula</strong> (<em>str</em>) – Complete lmer-style model formula</li>
<li><strong>data</strong> (<em>pandas.core.frame.DataFrame</em>) – input data</li>
<li><strong>family</strong> (<em>string</em>) – what distribution family (i.e.) link function to use for the generalized model; default is gaussian (linear model)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>fitted</strong> (<em>bool</em>) – whether model has been fit</li>
<li><strong>formula</strong> (<em>str</em>) – model formula</li>
<li><strong>data</strong> (<em>pandas.core.frame.DataFrame</em>) – model copy of input data</li>
<li><strong>grps</strong> (<em>dict</em>) – groups and number of observations per groups recognized by lmer</li>
<li><strong>AIC</strong> (<em>float</em>) – model akaike information criterion</li>
<li><strong>logLike</strong> (<em>float</em>) – model Log-likelihood</li>
<li><strong>family</strong> (<em>string</em>) – model family</li>
<li><strong>ranef</strong> (<em>pandas.core.frame.DataFrame/list</em>) – cluster-level differences from population parameters, i.e. difference between coefs and fixefs; returns list if multiple cluster variables are used to specify random effects (e.g. subjects and items)</li>
<li><strong>fixef</strong> (<em>pandas.core.frame.DataFrame/list</em>) – cluster-level parameters; returns list if multiple cluster variables are used to specify random effects (e.g. subjects and items)</li>
<li><strong>coefs</strong> (<em>pandas.core.frame.DataFrame/list</em>) – model summary table of population parameters</li>
<li><strong>resid</strong> (<em>numpy.ndarray</em>) – model residuals</li>
<li><strong>fits</strong> (<em>numpy.ndarray</em>) – model fits/predictions</li>
<li><strong>model_obj</strong> (<em>lmer model</em>) – rpy2 lmer model object</li>
<li><strong>factors</strong> (<em>dict</em>) – factors used to fit the model if any</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pymer4.models.Lmer.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>conf_int='Wald'</em>, <em>factors=None</em>, <em>ordered=False</em>, <em>summarize=True</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lmer.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lmer.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Main method for fitting model object. Will modify the model’s data attribute to add columns for residuals and fits for convenience.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>conf_int</strong> (<em>str</em>) – which method to compute confidence intervals; ‘profile’, ‘Wald’ (default), or ‘boot’ (parametric bootstrap)</li>
<li><strong>factors</strong> (<em>dict</em>) – col names (keys) to treat as dummy-coded factors with levels specified by unique values (vals). First level is always reference, e.g. {‘Col1’:[‘A’,’B’,’C’]}</li>
<li><strong>ordered</strong> (<em>bool</em>) – whether factors should be treated as ordered polynomial contrasts; this will parameterize a model with K-1 orthogonal polynomial regressors beginning with a linear contrast based on the factor order provided; default is False</li>
<li><strong>summarize</strong> (<em>bool</em>) – whether to print a model summary after fitting; default is True</li>
<li><strong>verbose</strong> (<em>bool</em>) – whether to print when and which model and confidence interval are being fitted</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">R style summary() table</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pymer4.models.Lmer.simulate">
<code class="descname">simulate</code><span class="sig-paren">(</span><em>num_datasets</em>, <em>use_rfx=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lmer.simulate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lmer.simulate" title="Permalink to this definition">¶</a></dt>
<dd><p>Simulate new responses based upon estimates from a fitted model. By default group/cluster means for simulated data will match those of the original data. Unlike predict, this is a non-deterministic operation because lmer will sample random-efects values for all groups/cluster and then sample data points from their respective conditional distributions.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_datasets</strong> (<em>int</em>) – number of simulated datasets to generate. Each simulation always generates a dataset that matches the size of the original data</li>
<li><strong>use_rfx</strong> (<em>bool</em>) – match group/cluster means in simulated data?; Default True</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">simulated data values</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pymer4.models.Lmer.predict">
<code class="descname">predict</code><span class="sig-paren">(</span><em>data</em>, <em>use_rfx=False</em>, <em>pred_type='response'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lmer.predict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lmer.predict" title="Permalink to this definition">¶</a></dt>
<dd><p>Make predictions given new data. Input must be a dataframe that contains the same columns as the model.matrix excluding the intercept (i.e. all the predictor variables used to fit the model). If using random effects to make predictions, input data must also contain a column for the group identifier that were used to fit the model random effects terms. Using random effects to make predictions only makes sense if predictions are being made about the same groups/clusters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pandas.core.frame.DataFrame</em>) – input data to make predictions on</li>
<li><strong>use_rfx</strong> (<em>bool</em>) – whether to condition on random effects when making predictions</li>
<li><strong>pred_type</strong> (<em>str</em>) – whether the prediction should be on the ‘response’ scale (default); or on the ‘link’ scale of the predictors passed through the link function (e.g. log-odds scale in a logit model instead of probability values)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">prediction values</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pymer4.models.Lmer.summary">
<code class="descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lmer.summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lmer.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize the output of a fitted model.</p>
</dd></dl>

<dl class="method">
<dt id="pymer4.models.Lmer.post_hoc">
<code class="descname">post_hoc</code><span class="sig-paren">(</span><em>marginal_vars</em>, <em>grouping_vars=None</em>, <em>p_adjust='tukey'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lmer.post_hoc"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lmer.post_hoc" title="Permalink to this definition">¶</a></dt>
<dd><p>Post-hoc pair-wise tests corrected for multiple comparisons (Tukey method) implemented using the lsmeans package. This method provide both marginal means/trends along with marginal pairwise differences. More info can be found at: <a class="reference external" href="https://cran.r-project.org/web/packages/lsmeans/lsmeans.pdf">https://cran.r-project.org/web/packages/lsmeans/lsmeans.pdf</a></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>marginal_var</strong> (<em>str</em>) – what variable(s) to compute marginal means/trends for; unique combinations of factor levels of these variable(s) will determine family-wise error correction</li>
<li><strong>grouping_vars</strong> (<em>str/list</em>) – what variable(s) to group on. Trends/means/comparisons of other variable(s), will be computed at each level of these variable(s)</li>
<li><strong>p_adjust</strong> (<em>str</em>) – multiple comparisons adjustment method. One of: tukey, bonf, fdr, hochberg, hommel, holm, dunnet, mvt (monte-carlo multi-variate T, aka exact tukey/dunnet). Default tukey</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pymer4.models.Lmer.plot">
<code class="descname">plot</code><span class="sig-paren">(</span><em>param</em>, <em>figsize=(8</em>, <em>6)</em>, <em>xlabel=''</em>, <em>ylabel=''</em>, <em>plot_fixef=True</em>, <em>plot_ci=True</em>, <em>grps=[]</em>, <em>ax=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lmer.plot"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lmer.plot" title="Permalink to this definition">¶</a></dt>
<dd><p>Plot random and group level parameters from a fitted model</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>param</strong> (<em>str</em>) – model parameter (column name) to plot</li>
<li><strong>figsize</strong> (<em>tup</em>) – matplotlib desired figsize</li>
<li><strong>xlabel</strong> (<em>str</em>) – x-axis label</li>
<li><strong>ylabel</strong> (<em>str</em>) – y-axis label</li>
<li><strong>plot_fixef</strong> (<em>bool</em>) – plot population effect fit of param?; default True</li>
<li><strong>plot_ci</strong> (<em>bool</em>) – plot computed ci’s of population effect?; default True</li>
<li><strong>grps</strong> (<em>list</em>) – plot specific group fits only; must correspond to index values in model.fixef</li>
<li><strong>ax</strong> (<em>matplotlib.axes.Axes</em>) – axis handle for an existing plot; if provided will ensure that random parameter plots appear <em>behind</em> all other plot objects.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">matplotlib figure handle
matplotlib axis handle</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pymer4.models.Lm">
<em class="property">class </em><code class="descclassname">pymer4.models.</code><code class="descname">Lm</code><span class="sig-paren">(</span><em>formula</em>, <em>data</em>, <em>family='gaussian'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lm" title="Permalink to this definition">¶</a></dt>
<dd><p>Model class to perform OLS regression. Formula specification works just like in R based on columns of a dataframe. Formulae are parsed by patsy which makes it easy to utilize specifiy columns as factors. This is <strong>different</strong> from Lmer. See patsy for more information on the different use cases.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>formula</strong> (<em>str</em>) – Complete lm-style model formula</li>
<li><strong>data</strong> (<em>pandas.core.frame.DataFrame</em>) – input data</li>
<li><strong>family</strong> (<em>string</em>) – what distribution family (i.e.) link function to use for the generalized model; default is gaussian (linear model)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Variables:</th><td class="field-body"><ul class="first last simple">
<li><strong>fitted</strong> (<em>bool</em>) – whether model has been fit</li>
<li><strong>formula</strong> (<em>str</em>) – model formula</li>
<li><strong>data</strong> (<em>pandas.core.frame.DataFrame</em>) – model copy of input data</li>
<li><strong>grps</strong> (<em>dict</em>) – groups and number of observations per groups recognized by lmer</li>
<li><strong>AIC</strong> (<em>float</em>) – model akaike information criterion</li>
<li><strong>logLike</strong> (<em>float</em>) – model Log-likelihood</li>
<li><strong>family</strong> (<em>string</em>) – model family</li>
<li><strong>ranef</strong> (<em>pandas.core.frame.DataFrame/list</em>) – cluster-level differences from population parameters, i.e. difference between coefs and fixefs; returns list if multiple cluster variables are used to specify random effects (e.g. subjects and items)</li>
<li><strong>fixef</strong> (<em>pandas.core.frame.DataFrame/list</em>) – cluster-level parameters; returns list if multiple cluster variables are used to specify random effects (e.g. subjects and items)</li>
<li><strong>coefs</strong> (<em>pandas.core.frame.DataFrame/list</em>) – model summary table of population parameters</li>
<li><strong>resid</strong> (<em>numpy.ndarray</em>) – model residuals</li>
<li><strong>fits</strong> (<em>numpy.ndarray</em>) – model fits/predictions</li>
<li><strong>model_obj</strong> (<em>lm model</em>) – rpy2 lmer model object</li>
<li><strong>factors</strong> (<em>dict</em>) – factors used to fit the model if any</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pymer4.models.Lm.fit">
<code class="descname">fit</code><span class="sig-paren">(</span><em>robust=False</em>, <em>conf_int='standard'</em>, <em>permute=None</em>, <em>summarize=True</em>, <em>verbose=False</em>, <em>n_boot=500</em>, <em>n_jobs=-1</em>, <em>n_lags=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lm.fit"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lm.fit" title="Permalink to this definition">¶</a></dt>
<dd><p>Fit a variety of OLS models. By default will fit a model that makes parametric assumptions (under a t-distribution) replicating the output of software like R. 95% confidence intervals (CIs) are also estimated parametrically by default. However, empirical bootstrapping can also be used to compute CIs; this procedure resamples with replacement from the data themselves, not residuals or data generated from fitted parameters.</p>
<p>Alternatively, OLS robust to heteroscedasticity can be fit by computing sandwich standard error estimates. This is similar to Stata’s robust routine.
Robust estimators include:
- ‘hc0’: Huber (1980) original sandwich estimator
- ‘hc3’: MacKinnon and White (1985) HC3 sandwich estimator; provides more robustness in smaller samples than hc0, Long &amp; Ervin (2000)
- ‘hac’: Newey-West (1987) estimator for robustness to heteroscedasticity as well as serial auto-correlation at given lags.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>robust</strong> (<em>bool/str</em>) – whether to use heteroscedasticity robust s.e.and optionally which estimator type to use (‘hc0’,’hc3’,’hac’). If robust = True, default robust estimator is ‘hc0’; default False</li>
<li><strong>conf_int</strong> (<em>str</em>) – whether confidence intervals should be computed through bootstrap (‘boot’) or assuming a t-distribution (‘standard’); default ‘standard’</li>
<li><strong>permute</strong> (<em>int</em>) – if non-zero, computes parameter significance tests by permuting t-stastics rather than parametrically; works with robust estimators</li>
<li><strong>summarize</strong> (<em>bool</em>) – whether to print a model summary after fitting; default True</li>
<li><strong>verbose</strong> (<em>bool</em>) – whether to print which model, standard error, confidence interval, and inference type are being fitted</li>
<li><strong>n_boot</strong> (<em>int</em>) – how many bootstrap resamples to use for confidence intervals (ignored unless conf_int=’boot’)</li>
<li><strong>n_jobs</strong> (<em>int</em>) – number of cores for parallelizing bootstrapping or permutations; default all cores</li>
<li><strong>n_lags</strong> (<em>int</em>) – number of lags for robust estimator type ‘hac’ (ignored unless robust=’hac’); default 1</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">R style summary() table</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">DataFrame</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pymer4.models.Lm.summary">
<code class="descname">summary</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/models.html#Lm.summary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.models.Lm.summary" title="Permalink to this definition">¶</a></dt>
<dd><p>Summarize the output of a fitted model.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pymer4.simulate">
<span id="pymer4-simulate-simulation"></span><h1><a class="reference internal" href="#module-pymer4.simulate" title="pymer4.simulate"><code class="xref py py-mod docutils literal"><span class="pre">pymer4.simulate</span></code></a>: Simulation<a class="headerlink" href="#module-pymer4.simulate" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pymer4.simulate.simulate_lm">
<code class="descclassname">pymer4.simulate.</code><code class="descname">simulate_lm</code><span class="sig-paren">(</span><em>num_obs</em>, <em>num_coef</em>, <em>coef_vals=None</em>, <em>corrs=None</em>, <em>mus=0.0</em>, <em>sigmas=1.0</em>, <em>noise_params=(0</em>, <em>1)</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/simulate.html#simulate_lm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.simulate.simulate_lm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to quickly simulate a regression model dataset, with continuous predictors.
Provided a number of observations, number of coefficients, and optionally correlations between predictors, means, and standard deviations of predictors, returns a pandas dataframe with simulated data that can be used to estimate a linear regression using Lm().</p>
<p>Defaults to returning standard normal (mu = 0; sigma = 1) predictors with no explicit correlations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_obs</strong> (<em>int</em>) – number of total observations, i.e. rows of data</li>
<li><strong>num_coef</strong> (<em>int</em>) – number of coefficients/regressors, i.e. columns of data</li>
<li><strong>coef_vals</strong> (<em>list</em><em>,</em><em>optional</em>) – “true” values of coefficients to generate data. If not provided will be randomly generated. Must include a coefficient for the intercept as well (i.e. mean of data)</li>
<li><strong>corrs</strong> (<em>ndarray</em><em>,</em><em>list</em><em>,</em><em>float</em>) – correlations between coefficients provided as 2d num_coef x num_coef, 1d flattend numpy array/list of length (num_features * (num_features-1)) / 2, or a float to be treated as the same correlation between all coefficients</li>
<li><strong>mus</strong> (<em>float/list/ndarray</em>) – means of columns of predictors</li>
<li><strong>sigmas</strong> (<em>float/list/ndarray</em>) – stds of columns of predictors</li>
<li><strong>noise_params</strong> (<em>tup</em><em>, </em><em>optional</em>) – mean and std of noise added to simulated data</li>
<li><strong>seed</strong> (<em>int</em>) – seed for reproducible random number generation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">data
ground-truth coefficient values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymer4.simulate.simulate_lmm">
<code class="descclassname">pymer4.simulate.</code><code class="descname">simulate_lmm</code><span class="sig-paren">(</span><em>num_obs</em>, <em>num_coef</em>, <em>num_grps</em>, <em>coef_vals=None</em>, <em>corrs=None</em>, <em>grp_sigmas=0.25</em>, <em>mus=0.0</em>, <em>sigmas=1.0</em>, <em>noise_params=(0</em>, <em>1)</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/simulate.html#simulate_lmm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.simulate.simulate_lmm" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to quickly simulate a multi-level regression model dataset, with continuous predictors.
Provided a number of observations, number of coefficients, number of groups/clusters,
and optionally correlations between predictors, means, and standard deviations of predictors,
returns a pandas dataframe with simulated data that can be used to estimate a multi-level model using Lmer().</p>
<p>Defaults to returning standard normal (mu = 0; sigma = 1) predictors with no explicit correlations and low variance between
groups (sigma = .25).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_obs</strong> (<em>int</em>) – number of observations per cluster/stratum/group</li>
<li><strong>num_coef</strong> (<em>int</em>) – number of coefficients/regressors, i.e. columns of data</li>
<li><strong>num_grps</strong> (<em>int</em>) – number of cluster/stratums/groups</li>
<li><strong>coef_vals</strong> (<em>list</em><em>,</em><em>optional</em>) – “true” values of coefficients to generate data. If not provided will be randomly generated. Must include a coefficient for the intercept as well (i.e. mean of data)</li>
<li><strong>corrs</strong> (<em>ndarray</em><em>,</em><em>list</em><em>,</em><em>float</em>) – correlations between coefficients provided as 2d num_coef x num_coef, 1d flattend numpy array/list of length (num_features * (num_features-1)) / 2, or a float to be treated</li>
<li><strong>the same correlation between all coefficients</strong> (<em>as</em>) – </li>
<li><strong>grp_sigmas</strong> (<em>int</em><em> or </em><em>list</em>) – grp level std around population coefficient values; can be a single value in which case same std is applied around all coefficients or a list for different std; default 0</li>
<li><strong>mus</strong> (<em>float/list/ndarray</em>) – means of columns of predictors</li>
<li><strong>sigmas</strong> (<em>float/list/ndarray</em>) – stds of columns of predictors</li>
<li><strong>noise_params</strong> (<em>tup</em><em>, </em><em>optional</em>) – mean and std of noise added to each group’s simulated data</li>
<li><strong>seed</strong> (<em>int</em>) – seed for reproducible random number generation</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">data
group/cluster level coefficients (i.e. BLUPs)
population coefficient values</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pymer4.simulate.easy_multivariate_normal">
<code class="descclassname">pymer4.simulate.</code><code class="descname">easy_multivariate_normal</code><span class="sig-paren">(</span><em>num_obs</em>, <em>num_features</em>, <em>corrs</em>, <em>mu=0.0</em>, <em>sigma=1.0</em>, <em>seed=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/simulate.html#easy_multivariate_normal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.simulate.easy_multivariate_normal" title="Permalink to this definition">¶</a></dt>
<dd><p>Function to more easily generate multivariate normal samples provided a correlation matrix or list of correlations (upper triangle of correlation matrix) instead of a covariance matrix.
Defaults to returning approximately standard normal (mu = 0; sigma = 1) variates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>num_obs</strong> (<em>int</em>) – number of observations/samples to generate (rows)</li>
<li><strong>corrs</strong> (<em>ndarray</em>) – num_features x num_features or flattend numpy array of length (num_features * (num_features-1)) / 2</li>
<li><strong>num_features</strong> (<em>int</em>) – number of features/variables/dimensions to generate (columns)</li>
<li><strong>mu</strong> (<em>float/list</em>) – mean of each feature across observations; default 0.0</li>
<li><strong>sigma</strong> (<em>float/list</em>) – sd of each feature across observations; default 1.0</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">correlated data as num_obs x num_features array</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pymer4.utils">
<span id="pymer4-utils-utilities"></span><h1><a class="reference internal" href="#module-pymer4.utils" title="pymer4.utils"><code class="xref py py-mod docutils literal"><span class="pre">pymer4.utils</span></code></a>: Utilities<a class="headerlink" href="#module-pymer4.utils" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="pymer4.utils.get_resource_path">
<code class="descclassname">pymer4.utils.</code><code class="descname">get_resource_path</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pymer4/utils.html#get_resource_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pymer4.utils.get_resource_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Get path sample data directory.</p>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="rfx_cheatsheet.html" class="btn btn-neutral" title="Lme4 Random Effects Cheat Sheet" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Eshin Jolly.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.3.2',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>